<h1>DataHen Till</h1>
<p><a href="/">Home</a> &bull; <a href="/requests">Request Log</a></p>



<table style="text-align: left; vertical-align: top;">
  <tr><th colspan="2"><h2>Info:</h2></th></tr>
  <tr><th>Cache</th><td>{{if .Item.CacheHit}}HIT{{else}}MISS{{end}}</td></tr>
  <tr><th title="Request ID">RID</th><td>{{.Item.Rid}}</td></tr>
  <tr><th title="Global ID of the request">GID</th><td>{{.Item.Gid}}</td></tr>
  <tr><th>Timestamp</th><td>{{(intToTime .Item.Timestamp).Format "2006-01-02 15:04:05"}}</td></tr>
  
  <tr><th colspan="2">&nbsp;</th></tr>

  <tr><th colspan="2"><h2>Request:</h2></th></tr>
  <tr><th>Method</th><td>{{.Item.RequestMethod}}</td></tr>
  <tr><th>URL</th><td>{{.Item.RequestURL}}</td></tr>
  <tr>
    <th>Header</th>
    <td>
      <table style="text-align: left; vertical-align: top;">
        {{ range $key, $values := (jsonToHeader .Item.RequestHeader )}}
        <tr>
          <th>{{ $key }}</th>
          <td>{{ range $value := $values }} {{$value}} {{end}}</td>
        </tr>
        {{ end }}
      </table>
      
    </td>
  </tr>
  <tr><th>ContentLength</th><td>{{.Item.RequestContentLength}}</td></tr>
  <tr><th>Body</th><td>{{if .Item.RequestBody.Valid}}{{printf "%s" .Item.RequestBody.Bytes}}{{end}}</td></tr>


{{if .Item.ResponseStatus.Valid }}
  <tr><th colspan="2">&nbsp;</th></tr>
  <tr><th colspan="2"><h2>Response:</h2></th></tr>
  <tr><th>Status</th><td>{{.Item.ResponseStatus.String}}</td></tr>
  <tr><th>Proto</th><td>{{.Item.ResponseProto.String}}</td></tr>
  <tr>
    <th>Header</th>
    <td>
      <table style="text-align: left; vertical-align: top;">
        {{ range $key, $values := (jsonToHeader .Item.ResponseHeader )}}
        <tr>
          <th>{{ $key }}</th>
          <td>{{ range $value := $values }} {{$value}} {{end}}</td>
        </tr>
        {{ end }}
      </table>
      
    </td>
  </tr>
  <tr><th>ContentLength</th><td>{{if .Item.ResponseContentLength.Valid}}{{.Item.ResponseContentLength.Int64}}{{end}}</td></tr>
  <tr>
    <th>TransferEncoding</th>
    <td>
      {{ range $value := (jsonToSlice .Item.ResponseTransferEncoding) }} {{$value}} {{end}}
    </td>
  </tr>
  <tr>
    <th>Body</th>
    <td>
      <a href="/requests/{{.Item.Rid}}/content/{{relativepath .Item.RequestURL}}" >View Content</a>
    </td>
  </tr>

{{end}}
</table>